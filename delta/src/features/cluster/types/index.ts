import type { Connectivity, SynnaxProps } from "@synnaxlabs/client";

/** Represents the properties and state of a synnax cluster */
export interface Cluster {
  /** The unique key generated by the cluster on provisioning */
  key: string;
  /** The name of the cluster as defined by the user */
  name: string;
  /** The connection parameters for connecting to the cluster. NOTE: This contains
   * sensitive information and should be treated with care. */
  props: SynnaxProps;
  /** The current connections state of the client to the cluster */
  state: ConnectionState;
}

/** A subset of Cluster that satisfies RenderableRecord */
export type RenderableCluster = Omit<Cluster, "props" | "state">;

/** Represents the current connection state of the client to the cluster */
export interface ConnectionState {
  /** The connectivity info provided by @synnaxlabs/client */
  status: Connectivity;
  /** An informative message describing the state of the connection */
  message?: string;
}

/** The default connection state to display when there is no active cluster. */
export const DEFAULT_CONNECTION_STATE: ConnectionState = {
  status: "disconnected",
  message: "Disconnected",
};
